!function(b){var a=function(d,c){var e=this;b.extend(e,b.fn.navbar.defaults,c);e.element=b(d).on("click","span[data-page]",function(){e.go(b(this).attr("data-page"))});if(e.autoQuery){e.query()}else{e.render()}};b.extend(a.prototype,{render:function(){var j=this,f=['<ul class="pagination pagination-sm">','<li><span data-page="1" aria-label="Previous">&laquo;</span></li>'],h=Math.min(j.totalPage,5),k=j.page||1,e=Math.max(k-Math.floor((h-1)/2),1),c=e+h-1;if(c>j.totalPage){e=Math.max(1,e+j.totalPage-c);c=j.totalPage}for(var d=e;d<=c;d++){f.push('<li><span data-page="',d,'"',(d==k?' class="selected"':""),">",d,"</span></li>")}f.push('<li><span data-page="',j.totalPage,'" aria-label="Next">&raquo;</span></li>',"</ul>");j.element.html(f.join(""))},first:function(){this.go(1)},last:function(){this.go(this.totalPage)},prev:function(){this.go(this.page-1)},next:function(){this.go(this.page+1)},go:function(c){if(this.page==c){return}this.query(c)},query:function(e,f){var d=this,c=b.extend({page:d.page=e||1,pagesize:d.pagesize},b.isFunction(d.parms)?d.parms.call(d):d.parms,f);b.ajax({type:"post",url:d.url,data:c,cache:false,dataType:"json",success:function(g){if(g.success){d.totalPage=Math.ceil(g.total/d.pagesize);d.onLoad(g);d.render()}},error:function(g,h){}})}});b.fn.navbar=function(c){return this.each(function(){var f=b(this),e=f.data("navbar"),d=typeof c=="object"&&c;if(!e){f.data("navbar",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.query=function(d,c){return this.each(function(){var f=b(this),e=f.data("navbar");if(e){e.query(d,c)}})};b.fn.navbar.defaults={url:"",pagesize:10,totalPage:1,parms:{},autoQuery:true,onLoad:function(c){}}}(window.jQuery);